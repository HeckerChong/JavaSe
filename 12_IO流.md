# 第一章 IO概述

## 1.1 IO的分类

根据数据的流向分为：**输入流**和**输出流**。

* **输入流**：把数据从`其他设备`上读取到`内存`中的流。
* **输出流**：把数据从`内存`中写出到`其他设备`上的流。

根局数据的类型分为：**字节流**和**字符流**。

**字节流**：以字节为单位，读写数据的流。
**字符流**：以字符为单位，读写数据的流。

## 1.2 IO的流向说明图解

- ![IO流](./images/1_io.jpg)

## 1.3 顶级父类

 |        | 输入流                        | 输出流                         |
 | ------ | ----------------------------- | ------------------------------ |
 | 字节流 | 字节输入流<br>**InputStream** | 字节输出流<br>**OutputStream** |
 | 字符流 | 字符输入流<br>**Reader**      | 字符输出流<br>**Writer**       |

# 第二章 字节流

## 2.1 字节输出流【OutputStream】

`java.io.OutputStream`抽象类是表示字节输出流的所有类的超类，将指定的字节信息写出到目的地。它定义了字节输出流的基本共性功能方法。

* `public void close()`：关闭此输出流并释放与此流相关联的任何系统资源。
* `public void flush()`：刷新此输出流并强制任何缓冲的输出字节被写出。
* `public void write(byte[] b)`：将 b.length字节从指定的字节数组写入此输出流。
* `public void write(byte[] b, int off, int len)`：从指定的字节数组写入 len字节，从偏移量 off开始输出到此输出流。
* `public abstract void write(int b)`：将指定的字节输出流。

> Tips:
> close方法，当完成流的操作时，必须调用此方法，释放系统资源。

## 2.2 FileOutputStream类

**构造方法：**

* `public FileOutputStream(File file)`：创建文件输出流以写入由指定的 File对象表示的文件。
* `public FileOutputStream(String name)`：创建文件输出流以指定的名称写入文件。

创建一个流对象时，必须传入一个文件路径。该路径下，如果没有这个文件，会创建该文件。如果有这个文件，会清空这个文件的数据。

**示例：**

```java
public class FileOutputStreamDemo01 {

    public static void main(String[] args) throws IOException {

        File file = new File("a.txt");

        //使用File对象创建流对象
        FileOutputStream fos1 = new FileOutputStream(file);

        //使用文件名称创建流对象
        FileOutputStream fos2 = new FileOutputStream("b.txt");

        //写出第一个字节
        fos1.write(97);
        //写出第二个字节
        fos1.write(98);

        // 字符串转换为字节数组
        byte[] b = "无敌无敌".getBytes();

        fos1.write(b);

        byte[] c = "abcde".getBytes();
        //写出从索引2开始，2个字节。索引2是c，两个字节，也就是cd。
        fos1.write(c,2,2);

        //关闭资源
        fos1.close();
        fos2.close();
    }
}
```

## 2.3 数据追加续写

* `public FileOutputStream(File file, boolean append)`：创建文件输出流以写入由指定的File对象表示的文件。
* `public FileOutputStream(String name, boolean append)`：创建文件输出流以指定的名称写入文件。

这两个构造方法，参数中都需要传入一个boolean类型的值，`True`表示追加数据，`false`表示清空原有数据。

**示例：**

```java
public class FileOutputStreamDemo02 {

    public static void main(String[] args) throws IOException {

        //使用文件名称创建流对象
        FileOutputStream fos2 = new FileOutputStream("b.txt",true);

        // 字符串转换为字节数组
        byte[] b = "无敌无敌".getBytes();

        fos2.write(b);

        //关闭资源
        fos2.close();
    }
}
```

## 2.4 换行

```java
public static void main(String[] args) throws IOException {

    //使用文件名称创建流对象
    FileOutputStream fos2 = new FileOutputStream("fos.txt",true);

    // 字符串转换为字节数组
    byte[] words = {97,98,99,100,101};

    for (int i = 0; i < words.length; i++) {
        fos2.write(words[i]);
        fos2.write("\r".getBytes());
    }

    //关闭资源
    fos2.close();
}
```

* 回车符：回到一行的开头(return)。
* 换行符：下一行(newline)。
* 系统中的换行:
  * Windows系统里，每行结尾是`回车+换行`，即`\r\n`
  * Unix系统里，每行结尾只有`换行`，即`\n`
  * Mac系统里，每行结尾是`回车`，即`\r`。从 Mac OS X开始与Linux统一。

## 2.5 字节输入流【InputStream】

`java.io.InputStream`抽象类是表示字节输入流的所有类的超类，可以读取字节信息到内存中。它定义了字节输入流的基本共性功能方法。

* `public void close()`：关闭此输入流并释放与此流相关联的任何系统资源。
* `public abstract int read()`：从输入流读取数据的下一个字节。
* `public int read(byte[] b)`：从输入流中读取一些字节数，并将它们存储到字节数组b中 。

> Tips:
> close方法，当完成流的操作时，必须调用此方法，释放系统资源。

## 2.6 FileInputStream类

`java.io.FileInputStream`类是文件输入流，从文件中读取字节。

**构造方法**

* `FileInputStream(File file)`：通过打开与实际文件的连接来创建一个 FileInputStream ，该文件由文件系统中的File对象file命名。
* `FileInputStream(String name)`：通过打开与实际文件的连接来创建一个 FileInputStream，该文件由文件系统中的路径名name命名。

创建一个流对象时，必须传入一个文件路径。该路径下，如果没有该文件,会抛出`FileNotFoundException`

